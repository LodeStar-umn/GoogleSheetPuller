<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Google Sheet Puller Testing Files</title>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 
<!-- <script type="text/javascript" src="jquery.min.js"></script>-->
<script type="text/javascript" src="../displayGoogleSheet.js"></script>
<script src="tv4.js"></script>
</head>

<body>



<h1>JSON</h1>

<h2>1. Confirm JSON format - Raw</h2>

<p>The results of validation for the JSON returning from Google are shown below.  A "true" result states that the json is the expected format.</p>
<div id="test1-actual" class="actual">loading</div>


<script>
// note schema was created here: http://jsonschema.net/
var schema1 = {"$schema":"http://json-schema.org/draft-04/schema#","type":"object","properties":{"version":{"type":"string"},"encoding":{"type":"string"},"feed":{"type":"object","properties":{"xmlns":{"type":"string"},"xmlns$openSearch":{"type":"string"},"xmlns$batch":{"type":"string"},"xmlns$gs":{"type":"string"},"id":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"updated":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"category":{"type":"array","items":{"type":"object","properties":{"scheme":{"type":"string"},"term":{"type":"string"}},"required":["scheme","term"]}},"title":{"type":"object","properties":{"type":{"type":"string"},"$t":{"type":"string"}},"required":["type","$t"]},"link":{"type":"array","items":{"type":"object","properties":{"rel":{"type":"string"},"type":{"type":"string"},"href":{"type":"string"}},"required":["rel","type","href"]}},"author":{"type":"array","items":{"type":"object","properties":{"name":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"email":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]}},"required":["name","email"]}},"openSearch$totalResults":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"openSearch$startIndex":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"gs$rowCount":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"gs$colCount":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"entry":{"type":"array","items":{"type":"object","properties":{"id":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"updated":{"type":"object","properties":{"$t":{"type":"string"}},"required":["$t"]},"category":{"type":"array","items":{"type":"object","properties":{"scheme":{"type":"string"},"term":{"type":"string"}},"required":["scheme","term"]}},"title":{"type":"object","properties":{"type":{"type":"string"},"$t":{"type":"string"}},"required":["type","$t"]},"content":{"type":"object","properties":{"type":{"type":"string"},"$t":{"type":"string"}},"required":["type","$t"]},"link":{"type":"array","items":{"type":"object","properties":{"rel":{"type":"string"},"type":{"type":"string"},"href":{"type":"string"}},"required":["rel","type","href"]}},"gs$cell":{"type":"object","properties":{"row":{"type":"string"},"col":{"type":"string"},"inputValue":{"type":"string"},"$t":{"type":"string"}},"required":["row","col","inputValue","$t"]}},"required":["id","updated","category","title","content","link","gs$cell"]}}},"required":["xmlns","xmlns$openSearch","xmlns$batch","xmlns$gs","id","updated","category","title","link","author","openSearch$totalResults","openSearch$startIndex","gs$rowCount","gs$colCount","entry"]}},"required":["version","encoding","feed"]}


	displayGoogleSheet({
		'docId':'1JgVXA3ud90wpxqMmwMsc1ejlLsTKjjZKW5aDtZzB-Qg'
		,'sheetId':'od6'
		,'getData':function(results){
			$('#test1-actual').html(tv4.validate(results, schema1));
		}
	});


</script>



<!-- *************************************************** -->
<hr >
<!-- *************************************************** -->

<h2>2. Confirm JSON format - Clean Version</h2>

<p>The results of validation for the cleaned up version JSON.  A "true" result states that the json is the expected format.</p>
<div id="test2-actual" class="actual">loading</div>

<script>
	var schema2={"$schema":"http://json-schema.org/draft-04/schema#","type":"array","items":{"type":"object","properties":{"Color":{"type":"string"},"Number":{"type":"string"}},"required":["Color","Number"]}};


	displayGoogleSheet({
		'feedURL':'fixtures/simpleTable.json'
		,'getDataClean':function(results){
			$('#test2-actual').html(tv4.validate(results, schema2));
		}
	});


</script>



</body>
</html>
